import{r as c,R as D}from"./react-0c77c144.js";function N(n,r){var o={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&r.indexOf(e)<0&&(o[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var l=0;for(e=Object.getOwnPropertySymbols(n);l<e.length;l++)r.indexOf(e[l])<0&&Object.prototype.propertyIsEnumerable.call(n,e[l])&&(o[e[l]]=n[e[l]])}return o}const W="https://player.twitch.tv/js/embed/v1.js",k={HEIGHT:480,WIDTH:940},Y={TWITCH_EMBED:"twitch-embed",TWITCH_PLAYER:"twitch-player"},x=!0,F=!0,_=!1,M="0h0m0s",G=!1,K=!0,V=n=>{const[r,o]=c.useState({loading:!0,error:null});return c.useEffect(()=>{if(!n)return void o({loading:!1,error:new Error("No src provided to useScript.")});let e=document.querySelector(`script[src="${n}"]`);e?o(s=>Object.assign(Object.assign({},s),{loading:e.getAttribute("data-loading")==="true"})):(e=document.createElement("script"),e.src=n,e.async=!0,e.type="text/javascript",e.setAttribute("data-loading","true"),document.body.appendChild(e),e.addEventListener("load",()=>{e==null||e.setAttribute("data-loading","false")},{once:!0}),e.addEventListener("error",()=>{e==null||e.setAttribute("data-loading","false")},{once:!0}));const l=s=>{s.type==="load"?o({loading:!1,error:null}):s.type==="error"&&o({loading:!1,error:new Error(`There was an error loading the script for ${n}`)})};return e.addEventListener("load",l),e.addEventListener("error",l),()=>{e==null||e.removeEventListener("load",l),e==null||e.removeEventListener("error",l)}},[n]),r},$=n=>{const r=c.useRef();return c.useEffect(()=>{r.current=n},[n]),r.current},q=(n,r,o)=>{for(const e in n)if(n[e]!==r[e]&&!o.includes(e))return!0;return!1},U=n=>{const r=document.getElementById(n);r&&(r.innerHTML="")},z={autoplay:F,muted:_,time:M,allowFullscreen:x,playsInline:K,hideControls:G,onCaptions:(n,r)=>{},onEnded:n=>{},onPause:n=>{},onPlay:(n,r)=>{},onPlaybackBlocked:n=>{},onPlaying:n=>{},onOffline:n=>{},onOnline:n=>{},onReady:n=>{},onSeek:(n,r)=>{},id:Y.TWITCH_PLAYER,height:k.HEIGHT,width:k.WIDTH},J=["channel","video","collection","height","width"],Q=n=>{const{channel:r,video:o,collection:e,parent:l,autoplay:s,muted:h,time:v,allowFullscreen:f,playsInline:g,hideControls:m,onCaptions:L,onEnded:P,onPause:w,onPlay:O,onPlaybackBlocked:b,onPlaying:I,onOffline:C,onOnline:T,onReady:A,onSeek:S,id:p,height:H,width:R}=n,B=N(n,["channel","video","collection","parent","autoplay","muted","time","allowFullscreen","playsInline","hideControls","onCaptions","onEnded","onPause","onPlay","onPlaybackBlocked","onPlaying","onOffline","onOnline","onReady","onSeek","id","height","width"]),{loading:E,error:y}=V(W),d=$(n),u=c.useRef(),j=c.useCallback(i=>{U(p);const t=new i(p,{channel:r,video:o,collection:e,parent:typeof l=="string"?[l]:l,autoplay:s,muted:h,time:v,allowfullscreen:f,playsinline:g,controls:!m,height:"100%",width:"100%"});return t.addEventListener(i.CAPTIONS,a=>L(t,a)),t.addEventListener(i.ENDED,()=>P(t)),t.addEventListener(i.PAUSE,()=>w(t)),t.addEventListener(i.PLAY,a=>O(t,a)),t.addEventListener(i.PLAYBACK_BLOCKED,()=>b(t)),t.addEventListener(i.PLAYING,()=>I(t)),t.addEventListener(i.OFFLINE,()=>C(t)),t.addEventListener(i.ONLINE,()=>T(t)),t.addEventListener(i.READY,()=>A(t)),t.addEventListener(i.SEEK,a=>S(t,a)),t},[r,o,e,l,s,h,v,f,g,m,L,P,C,T,w,O,b,I,A,S,p]);return c.useEffect(()=>{E||(y?console.error(y):u.current&&!((i,t)=>{var a;return q((a=i)!==null&&a!==void 0?a:{},t,J)})(d,n)?(r&&(d==null?void 0:d.channel)!==r&&u.current.setChannel(r),o&&(d==null?void 0:d.video)!==o&&u.current.setVideo(o,0),e&&(d==null?void 0:d.collection)!==e&&u.current.setCollection(e,o)):u.current=j(window.Twitch.Player))},[r,e,j,y,E,d,n,o]),E?null:D.createElement("div",Object.assign({id:p,style:{height:H,width:R}},B))};Q.defaultProps=z;export{Q as M};
