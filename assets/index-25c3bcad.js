import{r,j as e,R as q}from"./react-0c77c144.js";import{c as Q}from"./react-dom-964364ba.js";import{R as M,a as I,b as P,c as $}from"./recoil-30246499.js";import{r as t}from"./@material-tailwind-09403f25.js";import{r as ee}from"./randomcolor-38ee50fd.js";import{m as O}from"./mapbox-gl-8de1b415.js";import{d as te}from"./react-timer-hook-679e9270.js";import{P as se,a as re,A as ae,T as z,b as J,W as G,c as ne,d as oe,R as ce,C as ie,B as le,e as de,f as me,S as he}from"./@heroicons-3de99253.js";import{i as ue,g as pe,o as xe,s as ge,a as ye}from"./@firebase-78a613ce.js";import"./firebase-4eeb31d4.js";import{l as fe}from"./react-joystick-component-2aa7cd53.js";import{c as U,d as H,O as je,e as Ne,f as T}from"./react-router-2a15238e.js";import{R as ve,L as be,a as Ce,C as we,X as Se,Y as ke,T as Le}from"./recharts-624c24e9.js";import{B as Te,A as Ee}from"./react-icons-0a8c3f43.js";import{N as R,B as Ie}from"./react-router-dom-c3df4f81.js";import"./@babel-87174ba5.js";import"./scheduler-765c72db.js";import"./classnames-cd41178b.js";import"./tailwind-merge-de5f6af3.js";import"./prop-types-14c30b34.js";import"./deepmerge-89e33937.js";import"./framer-motion-3ab52292.js";import"./tslib-b2c16c9a.js";import"./hey-listen-52bbde7e.js";import"./style-value-types-86c13b32.js";import"./popmotion-413bcd9d.js";import"./framesync-409e5dda.js";import"./@motionone-95e9e256.js";import"./@emotion-cde29e94.js";import"./material-ripple-effects-ffa693ae.js";import"./@floating-ui-6cb3404f.js";import"./idb-81bdbf9b.js";import"./@remix-run-3c3b6866.js";import"./react-resize-detector-b39efbfc.js";import"./lodash-1234520e.js";import"./react-smooth-c290c57b.js";import"./fast-equals-a0711cdd.js";import"./victory-vendor-5e3e398c.js";import"./d3-scale-4cce9527.js";import"./internmap-7949acc8.js";import"./d3-array-7d9b19f9.js";import"./d3-time-format-aa787c71.js";import"./d3-time-9ce187c0.js";import"./d3-interpolate-8fa1f6ff.js";import"./d3-color-6502c434.js";import"./d3-format-ffdb8652.js";import"./recharts-scale-170b47f7.js";import"./decimal.js-light-6fe16ef2.js";import"./react-is-e8e5dbb3.js";import"./d3-shape-9e788a4f.js";import"./d3-path-41c4cb36.js";import"./reduce-css-calc-b30b9425.js";import"./css-unit-converter-9e08bb2c.js";import"./eventemitter3-40d30422.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function i(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(n){if(n.ep)return;n.ep=!0;const s=i(n);fetch(n.href,s)}})();const F=M({key:"waypointState",default:[]});O.accessToken="pk.eyJ1IjoiYmF0eXJraCIsImEiOiJjbGljcHo3ZDAwcTNlM2V0ZTRtemk1ODRmIn0.t-G-2NoT-mvCYOpK-FTLjA";const Re=({longitude:a,latitude:o})=>{const i=r.useRef(null),c=r.useRef(null),[n,s]=r.useState(a),[l,N]=r.useState(o),[p,x]=r.useState(16),[d,y]=I(F),[h,m]=r.useState(),[b,S]=r.useState([]),g=()=>{b.length&&(b.forEach(C=>{C.remove()}),S([]))},f=C=>{y(w=>[...w,C])};r.useEffect(()=>{c.current||(c.current=new O.Map({container:i.current,style:"mapbox://styles/mapbox/light-v11",center:[n,l],zoom:p}),c.current.on("move",()=>{s(c.current.getCenter().lng.toFixed(4)),N(c.current.getCenter().lat.toFixed(4)),x(c.current.getZoom().toFixed(2))}),m(new O.Marker({color:"white"}).setLngLat([n,l]).addTo(c.current)),c.current.on("contextmenu",C=>f({latitude:C.lngLat.lat,longitude:C.lngLat.lng,color:ee()})))});const v=(C,w)=>{y(E=>{let L=[...E];return L[C]=w,L})};return r.useEffect(()=>{c.current&&(h==null||h.setLngLat([a,o]))},[a,o]),r.useEffect(()=>{if(!c.current)return;(()=>{g(),d.forEach((w,E)=>{let L=new O.Marker({color:w==null?void 0:w.color}).setDraggable(!0).setLngLat([w.longitude,w.latitude]).addTo(c.current);L.on("dragend",()=>{let u=L.getLngLat(),j={latitude:u.lat,longitude:u.lng,color:w==null?void 0:w.color};v(E,j)}),S(u=>[...u,L])})})()},[d]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gray-800 text-xs text-white px-1.5 py-3 z-10 absolute m-3 rounded",children:["Latitude: ",l," | Longitude: ",n," | Zoom: ",p]}),e.jsx("div",{ref:i,className:"h-[500px]"})]})},Oe=()=>{const{seconds:a,minutes:o,hours:i,isRunning:c,start:n,pause:s,reset:l}=te.useStopwatch({autoStart:!1});return e.jsxs("div",{className:"text-center text-white",children:[e.jsxs("div",{className:"mb-2",children:[e.jsxs(t.Typography,{variant:"h1",children:[i.toString().padStart(2,"0"),":",o.toString().padStart(2,"0"),":",a.toString().padStart(2,"0")]}),e.jsx(t.Typography,{variant:"paragraph",children:"HH:MM:SS"})]}),e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[c?e.jsx(t.Button,{variant:"outlined",color:"white",className:"flex items-center",onClick:s,children:e.jsx(re,{strokeWidth:2,className:"h-5 w-5"})}):e.jsx(t.Button,{variant:"outlined",color:"white",className:"flex items-center",onClick:n,children:e.jsx(se,{strokeWidth:2,className:"h-5 w-5"})}),e.jsx(t.Button,{variant:"outlined",color:"white",className:"flex items-center",onClick:()=>l(null,!1),children:e.jsx(ae,{strokeWidth:2,className:"h-5 w-5"})})]})]})},Pe={apiKey:"AIzaSyB6lJ4-btPJrun3egZ-OHVB2x_GHqON080",authDomain:"consolecsi-auth.firebaseapp.com",projectId:"consolecsi-auth",storageBucket:"consolecsi-auth.appspot.com",messagingSenderId:"1060020195005",appId:"1:1060020195005:web:16f958fcfde05c891bb1d4"},Me=ue(Pe),D=pe(Me),Z=r.createContext(),Be=({children:a})=>{const[o,i]=r.useState({}),c=(s,l)=>ge(D,s,l),n=()=>ye(D);return r.useEffect(()=>{const s=xe(D,l=>{i(l)});return()=>{s()}},[]),e.jsx(Z.Provider,{value:{user:o,signIn:c,logout:n},children:a})},B=()=>r.useContext(Z),K=r.createContext(),We=({children:a})=>{const{user:o}=B(),[i,c]=r.useState(WebSocket.CLOSED),[n,s]=r.useState(null),l=r.useRef(null),N=()=>{const y=new WebSocket("wss://mrbwjuh5n3.execute-api.eu-north-1.amazonaws.com/prod");y.onopen=()=>{c(y.OPEN)},y.onclose=()=>{c(y.CLOSED)},y.onmessage=h=>{let m=JSON.parse(h.data);console.log("got data obj: ",m),s(m)},l.current=y},p=()=>{(!l.current||l.current.readyState===WebSocket.CLOSED)&&N()},x=()=>{l.current&&l.current.readyState===WebSocket.OPEN&&l.current.close()},d=y=>{var m,b,S;let h={action:"send",message:JSON.stringify(y)};((m=l.current)==null?void 0:m.readyState)===((b=l.current)==null?void 0:b.OPEN)&&((S=l.current)==null||S.send(JSON.stringify(h)))};return r.useEffect(()=>{if(!(!o||!o.email))return p(),()=>{x()}},[o]),e.jsx(K.Provider,{value:{readyState:i,data:n,sendMessage:d,openConnection:p,closeConnection:x},children:a})},W=()=>r.useContext(K),De=()=>{const a={latitude:"51.090009",longitude:"71.398299"},{readyState:o,data:i}=W(),[c,n]=r.useState(a),[s,l]=r.useState({}),[N,p]=I(F),[x,d]=r.useState(""),[y,h]=r.useState(""),[m,b]=r.useState("#3FB1CE"),S=u=>{u.preventDefault(),x.length&&y.length&&p([...N,{latitude:x,longitude:y,color:m}]),d(""),h(""),u.target.reset()},g=u=>{let j=[...N];j.splice(u,1),p(j)},f=(u,j)=>{let k=[...N];k[u]=j,p(k)},v=r.useRef(),C=r.useRef(),w=(u,j)=>{v.current=j},E=(u,j)=>{C.current=j},L=u=>{const j=[...N],k=j[v.current];j.splice(v.current,1),j.splice(C.current,0,k),v.current=null,C.current=null,p(j)};return r.useEffect(()=>{var u,j;o===WebSocket.OPEN&&i&&i.gps&&((u=i.gps)==null?void 0:u.latitude)!=c.latitude&&((j=i.gps)==null?void 0:j.longitude)!=c.longitude&&n(i.gps)},[o,i]),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 grid-flow-row-dense",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 h-fit",children:[e.jsx(t.Card,{className:"bg-secondary",children:e.jsxs(t.CardBody,{children:[e.jsx(t.Typography,{variant:"h4",className:"mb-2 text-primary font-heading",children:"IMU Data"}),e.jsxs(t.Typography,{color:"white",className:"text-xl",children:["Linear Acceleration: ",(s==null?void 0:s.linear_acceleration)??"0"]}),e.jsxs(t.Typography,{color:"white",className:"text-xl",children:["Angular Velocity: ",(s==null?void 0:s.angular_velocity)??"0"]}),e.jsxs(t.Typography,{color:"white",className:"text-xl",children:["Orientation: ",(s==null?void 0:s.orientation)??"NE"]})]})}),e.jsx(t.Card,{className:"bg-secondary",children:e.jsxs(t.CardBody,{children:[e.jsx(t.Typography,{variant:"h4",className:"text-primary font-heading text-center",children:"Stopwatch"}),e.jsx(Oe,{})]})}),e.jsx(t.Card,{className:"bg-secondary col-span-2",children:e.jsxs(t.CardBody,{children:[e.jsx(t.Typography,{variant:"h4",className:"mb-2 text-primary font-heading",children:"Waypoints"}),e.jsx(t.List,{className:"h-64 overflow-y-auto",children:N.length?N.map((u,j)=>e.jsxs(t.ListItem,{ripple:!1,className:"py-1 pr-1 pl-4 text-white bg-[#474b4f]",draggable:!0,onDragStart:k=>w(k,j),onDragEnter:k=>E(k,j),onDragEnd:L,children:[e.jsxs("span",{className:"text-martian mr-2",children:["[",j+1,"]"]}),"Latitude: ",Number(u.latitude).toFixed(4),", Longitude: ",Number(u.longitude).toFixed(4),e.jsxs(t.ListItemSuffix,{className:"flex justify-center space-x-4",children:[e.jsx("input",{type:"color",value:u.color,onChange:k=>{let X={latitude:u.latitude,longitude:u.longitude,color:k.target.value};f(j,X)}}),e.jsx(t.IconButton,{variant:"text",color:"blue-gray",onClick:()=>g(j),children:e.jsx(z,{className:"h-5 w-5"})})]})]},j)):e.jsx(t.Typography,{color:"white",className:"text-lg text-center",children:"No waypoints on the map"})}),e.jsxs("form",{className:"mt-3 flex gap-2 items-center",onSubmit:S,children:[e.jsx(t.Input,{label:"Latitude",color:"white",onChange:u=>d(u.target.value)}),e.jsx(t.Input,{label:"Longitude",color:"white",onChange:u=>h(u.target.value)}),e.jsx(t.Input,{label:"Color",color:"white",type:"color",value:m,onChange:u=>b(u.target.value),containerProps:{className:"max-w-[100px]"}}),e.jsx(t.Button,{className:"col-span-3",type:"submit",color:"green",children:e.jsx(J,{className:"h-4"})})]})]})})]}),e.jsx("div",{className:"grid grid-rows-1 gap-4",children:e.jsx(t.Card,{className:"bg-secondary ",children:e.jsxs(t.CardBody,{children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(t.Typography,{variant:"h4",className:"mb-2 text-primary font-heading",children:"Location"})}),e.jsx(Re,{latitude:c.latitude,longitude:c.longitude}),e.jsxs(t.Typography,{className:"mt-4 text-center",color:"white",children:["Rover's Location (",c.latitude,", ",c.longitude,")"]})]})})})]})},Y=M({key:"receiveFootageState",default:!0}),Ae=({mediaStream:a})=>{const o=r.useRef(null),i=P(Y);return r.useEffect(()=>{o.current&&(a!==null?o.current.srcObject=a:o.current.srcObject&&a===null&&(o.current.srcObject.getTracks().forEach(c=>c.stop()),o.current.srcObject=null))},[a]),i&&a?e.jsx("video",{autoPlay:!0,controls:!0,ref:o}):e.jsx("div",{className:"h-[480px] w-full bg-black flex justify-center items-center",children:i?e.jsx(t.Typography,{variant:"h3",className:"text-primary",children:"No Footage From Cameras"}):e.jsx(t.Typography,{variant:"h3",className:"text-primary",children:"Footage Receival is turned off"})})},Fe=()=>{const{sendMessage:a}=W(),o=new Map([["W",87],["A",65],["S",83],["D",68]]),[i,c]=r.useState({x:0,y:0});let n={};const s=p=>{let x={x:p.x,y:p.y};n.x===x.x&&n.y===x.y||(n=x,a({control:x}))},l=p=>{let x=p.keyCode,d={x:0,y:0};switch(x){case o.get("W"):d.x=0,d.y=1;break;case o.get("A"):d.x=-1,d.y=0;break;case o.get("S"):d.x=0,d.y=-1;break;case o.get("D"):d.x=1,d.y=0;break}c(d),(d.x||d.y)&&s({x:d.x,y:d.y})},N=p=>{let x=p.keyCode;(x===87||x===65||x===83||x===68)&&(c({x:0,y:0}),s({x:0,y:0}))};return r.useEffect(()=>(document.addEventListener("keydown",l),document.addEventListener("keyup",N),()=>{document.removeEventListener("keydown",l),document.removeEventListener("keyup",N)}),[]),e.jsx(t.Card,{className:"bg-secondary",children:e.jsxs(t.CardBody,{children:[e.jsx(t.Typography,{variant:"h4",className:"mb-4 text-primary font-heading",children:"Manual Control"}),e.jsxs("div",{className:"flex flex-col gap-4 items-center my-2",children:[e.jsx(fe.Joystick,{pos:i,size:100,stickSize:50,baseColor:"black",stickColor:"#29EB18",move:s}),e.jsx(t.Typography,{color:"white",children:"Movement"}),e.jsxs(t.Typography,{color:"white",children:["Forward - [W], Backward - [S]",e.jsx("br",{}),"Left - [A], Right - [D]"]})]})]})})},V=r.createContext(),_e=({children:a})=>{const{readyState:o,data:i,sendMessage:c}=W(),[n,s]=r.useState(null),[l,N]=r.useState(null),[p,x]=r.useState(),d=r.useRef(null),y=h=>{s(h)};return r.useEffect(()=>{o===WebSocket.OPEN&&i&&i.webrtc_offer!=n&&s(JSON.stringify(i.webrtc_offer))},[o,i]),r.useEffect(()=>{const h=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"}]});return h.onicecandidate=function(m){let b=m.candidate;b?console.log(b.candidate):console.log(`iceGatheringState complete
`,d.current.localDescription.sdp)},h.oniceconnectionstatechange=function(){x(d.current.iceConnectionState)},h.ontrack=function(m){console.log("remote ontrack",m.streams),N(m.streams[0])},h.onconnection=function(m){console.log("onconnection ",m)},d.current=h,()=>{d.current.close()}},[]),r.useEffect(()=>{if(!d.current||!n)return;let h=new RTCSessionDescription(JSON.parse(n));console.log(`remoteOffer 
`,h),d.current.setRemoteDescription(h).then(function(){h.type=="offer"&&d.current.createAnswer().then(function(m){console.log(`createAnswer 200 ok 
`,m),c({webrtc_answer:m}),d.current.setLocalDescription(m).then(function(){}).catch(b=>console.log(b))}).catch(m=>console.log(m))}).catch(m=>console.log(m))},[n]),e.jsx(V.Provider,{value:{changeRemoteOffer:y,remoteStream:l,iceState:p},children:a})},ze=()=>r.useContext(V),_=M({key:"controlModeState",default:!1}),Je=()=>{const[a,o]=I(_),[i,c]=I(Y),n=l=>{o(l.target.checked)},s=l=>{c(l.target.checked)};return e.jsx(t.Card,{className:"bg-secondary",children:e.jsxs(t.CardBody,{className:"flex flex-col gap-4",children:[e.jsx(t.Typography,{variant:"h4",className:"text-primary font-heading",children:"Configs"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t.Typography,{variant:"h5",color:"white",children:"Drive mode:"}),e.jsx(t.Typography,{color:"white",children:"Manual"}),e.jsx(t.Switch,{id:"control-mode-switch",checked:a,onChange:n,ripple:!1,className:"h-full w-full checked:bg-primary",containerProps:{className:"w-11 h-6"},circleProps:{className:"before:hidden left-0.5 border-none"}}),e.jsx(t.Typography,{color:"white",children:"Autonomous"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t.Typography,{variant:"h5",color:"white",children:"Receive camera footage:"}),e.jsx(t.Switch,{id:"recieve-footage-switch",checked:i,onChange:s,ripple:!1,className:"h-full w-full checked:bg-primary",containerProps:{className:"w-11 h-6"},circleProps:{className:"before:hidden left-0.5 border-none"}})]})]})})},Ge=()=>{const[a,o]=I(F),[i,c]=r.useState(""),[n,s]=r.useState(""),[l,N]=r.useState("#3FB1CE"),p=g=>{g.preventDefault(),i.length&&n.length&&o([...a,{latitude:i,longitude:n,color:l}]),c(""),s(""),g.target.reset()},x=g=>{let f=[...a];f.splice(g,1),o(f)},d=(g,f)=>{let v=[...a];v[g]=f,o(v)},y=r.useRef(),h=r.useRef(),m=(g,f)=>{y.current=f},b=(g,f)=>{h.current=f},S=g=>{const f=[...a],v=f[y.current];f.splice(y.current,1),f.splice(h.current,0,v),y.current=null,h.current=null,o(f)};return e.jsx(t.Card,{className:"bg-secondary col-span-2",children:e.jsxs(t.CardBody,{children:[e.jsx(t.Typography,{variant:"h4",className:"mb-2 text-primary font-heading",children:"Waypoints"}),e.jsx(t.List,{className:"h-64 overflow-y-auto",children:a.length?a.map((g,f)=>e.jsxs(t.ListItem,{ripple:!1,className:"py-1 pr-1 pl-4 text-white bg-[#474b4f]",draggable:!0,onDragStart:v=>m(v,f),onDragEnter:v=>b(v,f),onDragEnd:S,children:[e.jsxs("span",{className:"text-martian mr-2",children:["[",f+1,"]"]}),"Latitude: ",Number(g.latitude).toFixed(4),", Longitude: ",Number(g.longitude).toFixed(4),e.jsxs(t.ListItemSuffix,{className:"flex justify-center space-x-4",children:[e.jsx("input",{type:"color",value:g.color,onChange:v=>{let C={latitude:g.latitude,longitude:g.longitude,color:v.target.value};d(f,C)}}),e.jsx(t.IconButton,{variant:"text",color:"blue-gray",onClick:()=>x(f),children:e.jsx(z,{className:"h-5 w-5"})})]})]},f)):e.jsx(t.Typography,{color:"white",className:"text-lg text-center",children:"No waypoints on the map"})}),e.jsxs("form",{className:"mt-3 flex gap-2 items-center",onSubmit:p,children:[e.jsx(t.Input,{label:"Latitude",color:"white",onChange:g=>c(g.target.value)}),e.jsx(t.Input,{label:"Longitude",color:"white",onChange:g=>s(g.target.value)}),e.jsx(t.Input,{label:"Color",color:"white",type:"color",value:l,onChange:g=>N(g.target.value),containerProps:{className:"max-w-[100px]"}}),e.jsx(t.Button,{className:"col-span-3",type:"submit",color:"green",children:e.jsx(J,{className:"h-4"})})]})]})})},Ue=()=>{const[a,o]=r.useState(""),{changeRemoteOffer:i,remoteStream:c,iceState:n}=ze(),s=P(_);return r.useEffect(()=>{console.log("Ice state: "+n)},[n]),e.jsxs("div",{className:"mt-4 grid grid-cols-11 gap-4",children:[e.jsx("div",{className:"col-span-5",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(Je,{}),s?e.jsx(Ge,{}):e.jsx(Fe,{})]})}),e.jsx("div",{className:"col-span-6",children:e.jsx(t.Card,{className:"bg-secondary",children:e.jsxs(t.CardBody,{children:[e.jsx(t.Typography,{variant:"h4",className:"mb-2 text-primary font-heading",children:"Main Camera"}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(Ae,{mediaStream:c})}),e.jsx("textarea",{value:a,onChange:l=>o(l.target.value)}),e.jsx("button",{onClick:()=>i(a),children:"Answer"})]})})})]})},A=()=>e.jsx(t.Card,{color:"gray",className:"",children:e.jsx(t.CardBody,{className:"flex justify-center items-center",children:e.jsx(t.Typography,{variant:"h4",color:"white",className:"font-heading",children:"Feature not yet implemented!"})})}),He=()=>{const{readyState:a,openConnection:o,closeConnection:i}=W(),{user:c,logout:n}=B(),s=U(),l=async()=>{try{await n(),s("/login")}catch(f){console.error(f)}},N={1:"OPEN",3:"CLOSED"}[a],[p,x]=r.useState(0),[d,y]=r.useState(0),[h,m]=r.useState(0),[b,S]=r.useState();r.useEffect(()=>{a===WebSocket.OPEN&&S(setTimeout(()=>{x(Math.floor(Math.random()*300+120)),y(Math.floor(Math.random()*20)),m(Math.floor(Math.random()*40))},3e3))},[a,p,d,h]);const g=()=>{a===WebSocket.OPEN?(i(),clearTimeout(b)):a===WebSocket.CLOSED&&(o(),S(setTimeout(()=>{x(Math.floor(Math.random()*300+120)),y(Math.floor(Math.random()*20)),m(Math.floor(Math.random()*40))},3e3)))};return e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[e.jsx(t.Card,{className:"bg-secondary",children:e.jsxs(t.CardBody,{children:[e.jsx(t.Typography,{variant:"h3",className:"mb-4 text-primary font-heading",children:"Proxy Settings"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[e.jsxs(t.Typography,{color:"white",variant:"h5",children:["Connection Status: ",N]}),e.jsx(t.Button,{onClick:g,color:"red",variant:"text",children:a===WebSocket.OPEN?"Close":"Open"})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs(t.Typography,{color:"white",children:[e.jsx(G,{className:"h-8 w-8"}),"Ping: ",p," ms"]}),e.jsxs(t.Typography,{color:"white",children:[e.jsx(ne,{className:"h-8 w-8"}),"Sent data: ",d," kb"]}),e.jsxs(t.Typography,{color:"white",children:[e.jsx(oe,{className:"h-8 w-8"}),"Recieved data: ",h," kb"]})]})]}),e.jsx(t.Typography,{variant:"h3",className:"mt-6 mb-4 text-primary font-heading",children:"LoRa Settings"}),e.jsx(A,{})]})}),e.jsx(t.Card,{className:"bg-secondary",children:e.jsxs(t.CardBody,{children:[e.jsx(t.Typography,{variant:"h3",className:"mb-4 text-primary font-heading",children:"Account Settings"}),e.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[e.jsxs(t.Typography,{color:"white",variant:"h5",children:["User Email: ",c&&c.email]}),e.jsx(t.Button,{onClick:l,color:"red",variant:"text",children:"Sign Out"})]}),e.jsx(A,{})]})})]})},Ze=""+new URL("dbelements/graphene.svg",import.meta.url).href,Ke=()=>{const[a,o]=r.useState(""),i=({target:s})=>o(s.value),c=[{shift:200,intensity:.0759},{shift:300,intensity:.1591},{shift:400,intensity:.4572},{shift:500,intensity:.8539},{shift:600,intensity:.9492}],n=[{imgPath:Ze,name:"Graphene",description:"Graphene is a building block of all graphitic carbon allotropes. It is a monatomic sheet formed by a network of sp2 carbons organized in a honeycomb structure."}];return e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 grid-flow-row-dense",children:[e.jsx(t.Card,{className:"bg-secondary",children:e.jsxs(t.CardBody,{children:[e.jsx(t.Typography,{variant:"h4",className:"mb-2 text-primary font-heading",children:"Data Graph"}),e.jsx("div",{className:"w-full h-96 my-6",children:e.jsx(ve,{children:e.jsxs(be,{data:c,children:[e.jsx(Ce,{type:"monotone",dataKey:"intensity",stroke:"#29EB18"}),e.jsx(we,{stroke:"#ccc",strokeDasharray:"5 5"}),e.jsx(Se,{dataKey:"shift"}),e.jsx(ke,{}),e.jsx(Le,{})]})})}),e.jsx(t.Typography,{variant:"h4",className:"mb-2 text-primary font-heading",children:"Result"}),e.jsx(A,{})]})}),e.jsx(t.Card,{className:"bg-secondary",children:e.jsxs(t.CardBody,{children:[e.jsx(t.Typography,{variant:"h4",className:"mb-2 text-primary font-heading",children:"Elements Database"}),e.jsx("div",{className:"w-full my-6",children:e.jsxs("div",{className:"shadow-md rounded-lg px-3 py-2 mb-4",children:[e.jsxs("div",{className:"flex items-center rounded-md",children:[e.jsx(t.Input,{color:"white",label:"Name of elements",value:a,onChange:i,containerProps:{className:"min-w-0"}}),e.jsx(t.Button,{color:a?"gray":"white",disabled:!a,children:"Search"})]}),e.jsx(t.List,{className:"py-3 text-sm",children:n.length?n.map((s,l)=>e.jsxs(t.ListItem,{children:[e.jsx(t.ListItemPrefix,{children:e.jsx(t.Avatar,{alt:s.name,src:s.imgPath})}),e.jsxs("div",{className:"ml-4",children:[e.jsx(t.Typography,{variant:"h6",color:"white",children:s.name}),e.jsx(t.Typography,{variant:"small",color:"white",className:"font-normal",children:s.description})]})]},l)):e.jsx(t.Typography,{color:"white",className:"text-lg text-center",children:"No waypoints on the map"})})]})})]})})]})},Ye=()=>{const{user:a,signIn:o}=B(),i=U();if(a)return e.jsx(H,{to:"/"});const[c,n]=r.useState(""),[s,l]=r.useState(""),[N,p]=r.useState(""),x=async d=>{if(d.preventDefault(),p(""),c===""||s===""){p("Please fill out the form");return}try{await o(c,s),i("/")}catch(y){p(y.message)}};return e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsxs(t.Card,{className:"bg-secondary p-8",shadow:!1,children:[e.jsx(t.Typography,{variant:"h2",className:"text-primary text-center",children:"Sign In"}),e.jsxs("form",{onSubmit:x,className:"mt-8 mb-2 w-80 max-w-screen-lg sm:w-96",children:[e.jsxs("div",{className:"mb-4 flex flex-col gap-6",children:[e.jsx(t.Input,{color:"white",type:"email",size:"lg",label:"Email",onChange:d=>n(d.target.value)}),e.jsx(t.Input,{color:"white",type:"password",size:"lg",label:"Password",onChange:d=>l(d.target.value)})]}),e.jsx(t.Button,{type:"submit",className:"mt-6 bg-primary text-secondary",fullWidth:!0,children:"Login"})]}),N&&e.jsx(t.Typography,{variant:"small",color:"red",children:N})]})})},Ve=""+new URL("../logo.png",import.meta.url).href,Xe=M({key:"connectionTypeState",default:"proxy"}),qe=()=>{const a=P(_),o=P(Xe);return e.jsxs(t.Navbar,{className:"border-none bg-[#222629] h-max max-w-full py-2 px-4 lg:px-8 lg:py-4 grid grid-cols-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{className:"h-16",src:Ve,alt:"Logo"}),e.jsx("div",{className:"ml-4",children:e.jsxs("h4",{children:["Nazarbayev ",e.jsxs("span",{className:"text-primary",children:["University",e.jsx("br",{}),"Rover"]})," Team"]})})]}),e.jsx("div",{className:"h-16 flex items-center justify-center",children:e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("div",{className:"mr-4",children:e.jsxs("ul",{className:"mb-4 mt-2 flex gap-2 lg:mb-0 lg:mt-0 lg:items-center lg:gap-6",children:[e.jsx("li",{children:e.jsx(R,{to:"/",className:({isActive:i})=>i?"text-primary":"",children:e.jsx(ce,{className:"h-8 w-8"})})}),e.jsx("li",{children:e.jsx(R,{to:"/command",className:({isActive:i})=>i?"text-primary":"",children:e.jsx(ie,{className:"h-8 w-8"})})}),e.jsx("li",{children:e.jsx(R,{to:"/lab",className:({isActive:i})=>i?"text-primary":"",children:e.jsx(le,{className:"h-8 w-8"})})}),e.jsx("li",{children:e.jsx(R,{to:"/settings",className:({isActive:i})=>i?"text-primary":"",children:e.jsx(de,{className:"h-8 w-8"})})})]})})})}),e.jsxs("div",{className:"flex items-center justify-end",children:[e.jsxs("div",{className:"mr-4 flex items-center",children:[e.jsx("p",{className:"mr-2",children:"100 %"}),e.jsx(me,{className:"h-8 w-8"})]}),e.jsx("div",{className:"mr-4 flex items-center",children:a?e.jsx("div",{className:"",children:e.jsx(Ee,{className:"h-8 w-8"})}):e.jsx("div",{className:"",children:e.jsx(Te,{className:"h-8 w-8"})})}),o==="proxy"?e.jsx("div",{className:"",children:e.jsx(he,{className:"h-8 w-8"})}):e.jsx("div",{className:"",children:e.jsx(G,{className:"h-8 w-8"})})]})]})},Qe=()=>{const{user:a}=B();return a?e.jsxs(e.Fragment,{children:[e.jsx(qe,{}),e.jsx(je,{})]}):e.jsx(H,{to:"/login"})};function $e(){return e.jsx(Be,{children:e.jsx(We,{children:e.jsx(_e,{children:e.jsx("main",{className:"p-6",children:e.jsxs(Ne,{children:[e.jsxs(T,{element:e.jsx(Qe,{}),children:[e.jsx(T,{path:"/",Component:()=>e.jsx(De,{})}),e.jsx(T,{path:"/command",Component:()=>e.jsx(Ue,{})}),e.jsx(T,{path:"/settings",Component:()=>e.jsx(He,{})}),e.jsx(T,{path:"/lab",Component:()=>e.jsx(Ke,{})})]}),e.jsx(T,{path:"/login",Component:()=>e.jsx(Ye,{})})]})})})})})}Q.createRoot(document.getElementById("root")).render(e.jsx(q.StrictMode,{children:e.jsx(t.ThemeProvider,{children:e.jsx(Ie,{basename:"/console",children:e.jsx($,{children:e.jsx($e,{})})})})}));
